/**
 * Estilos de Reemplazo para styles.scss
 * 
 * Estos estilos reemplazan los colores hardcodeados por variables CSS
 * del sistema de temas.
 */

/* ========================================
 * NG-SELECT CUSTOM (Reemplaza .custom-ng-select)
 * ======================================== */
.custom-ng-select {
  .ng-select-container {
    border-color: var(--border-color) !important;
    background-color: var(--surface-background) !important;

    &:hover {
      border-color: var(--border-color-strong) !important;
    }
  }

  &.ng-select-focused {
    .ng-select-container {
      border-color: var(--primary-700) !important;
      box-shadow: 0 0 0 3px rgba(121, 53, 118, 0.1) !important;
    }
  }

  .ng-placeholder {
    color: var(--text-color-muted) !important;
  }

  .ng-dropdown-panel {
    border-color: var(--border-color) !important;
    background-color: var(--surface-background) !important;
    box-shadow: var(--shadow-dropdown) !important;

    .ng-option {
      color: var(--text-color) !important;
      background-color: var(--surface-background) !important;

      &:hover,
      &.ng-option-marked {
        background-color: var(--primary-50) !important;
        box-shadow: inset -2px 0 0 var(--primary-900) !important;
      }

      &.ng-option-selected {
        background-color: var(--primary-100) !important;
        color: var(--primary-700) !important;
      }
    }
  }

  &.ng-select-error .ng-select-container {
    border-color: var(--error-color) !important;
  }
}

/* ========================================
 * LOADER (Reemplaza .loader existente)
 * ======================================== */
.loader {
  border: 3px solid var(--border-color);
  border-top-color: var(--primary-500);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

.loader-gradient {
  background: linear-gradient(135deg,
      var(--primary-500),
      var(--brand-accent-500),
      var(--secondary-500));
  -webkit-background-clip: text;
  background-clip: text;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* ========================================
 * SCROLLBAR CUSTOM (Reemplaza .custom-scroll)
 * ======================================== */
.custom-scroll {
  &::-webkit-scrollbar {
    width: 7px;
    height: 7px;
  }

  &::-webkit-scrollbar-track {
    background: var(--surface-section);
    border-radius: 10px;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 10px;

    &:hover {
      background: rgba(0, 0, 0, 0.45);
    }
  }
}

/* Dark mode scrollbar */
html.dark .custom-scroll,
[data-theme="dark"] .custom-scroll {
  &::-webkit-scrollbar-track {
    background: var(--surface-elevated);
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);

    &:hover {
      background: rgba(255, 255, 255, 0.45);
    }
  }
}

/* ========================================
 * SOMBRAS DE MENÃš (Reemplaza shadow-custom-menu)
 * ======================================== */
.shadow-custom-menu {
  box-shadow: var(--shadow-menu);
}

.shadow-custom-menu-hover {
  box-shadow: var(--shadow-menu-hover);
}

/* ========================================
 * TABLA (Reemplaza sombras hardcodeadas)
 * ======================================== */
.table-header-shadow {
  box-shadow: var(--shadow-tabla);
}

/* ========================================
 * ESTADOS DE FORMULARIO
 * ======================================== */
.input-base {
  border-color: var(--border-color);
  background-color: var(--surface-background);
  color: var(--text-color);

  &::placeholder {
    color: var(--text-color-muted);
  }

  &:focus {
    border-color: var(--primary-700);
    box-shadow: 0 0 0 3px rgba(121, 53, 118, 0.1);
    outline: none;
  }

  &.input-error {
    border-color: var(--error-color);

    &:focus {
      box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
    }
  }
}

.label-floating {
  color: var(--primary-700);
}

/* ========================================
 * BADGES DE ESTADO
 * ======================================== */
.badge-success {
  background-color: var(--success-100);
  color: var(--success-600);
  border: 1px solid var(--success-300);
}

.badge-pending {
  background-color: var(--error-100);
  color: var(--warning-600);
  border: 1px solid var(--error-300);
}

.badge-info {
  background-color: var(--info-100);
  color: var(--info-700);
  border: 1px solid var(--info-200);
}

/* ========================================
 * TABS
 * ======================================== */
.tab-active {
  background-color: var(--info-600);
  color: var(--text-color-inverse);
}

.tab-inactive {
  background-color: var(--surface-section);
  color: var(--info-600);

  &:hover {
    color: var(--text-color-secondary);
  }
}

/* ========================================
 * DARK MODE OVERRIDES
 * ======================================== */
html.dark,
[data-theme="dark"] {
  .custom-ng-select {

    .ng-option:hover,
    .ng-option.ng-option-marked {
      background-color: rgba(121, 53, 118, 0.2) !important;
    }
  }

  .badge-success {
    background-color: rgba(16, 185, 129, 0.2);
    color: #6ee7b7;
    border-color: rgba(16, 185, 129, 0.3);
  }

  .badge-pending {
    background-color: rgba(239, 68, 68, 0.2);
    color: #fcd34d;
    border-color: rgba(239, 68, 68, 0.3);
  }

  .badge-info {
    background-color: rgba(14, 165, 233, 0.2);
    color: #7dd3fc;
    border-color: rgba(14, 165, 233, 0.3);
  }
}