(self.webpackChunkatomic_ui=self.webpackChunkatomic_ui||[]).push([[941],{"./src/app/shared/ui/atoms/form-error/form-error.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAuZm9ybS1lcnJvciB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgICBnYXA6IDAuMzc1cmVtOwogICAgICBtYXJnaW4tdG9wOiAwLjI1cmVtOwogICAgICBmb250LXNpemU6IDAuODEyNXJlbTsKICAgICAgY29sb3I6IHZhcigtLWRhbmdlci1jb2xvciwgI2VmNDQ0NCk7CiAgICAgIGFuaW1hdGlvbjogZXJyb3ItaW4gMTUwbXMgZWFzZTsKICAgIH0KCiAgICBAa2V5ZnJhbWVzIGVycm9yLWluIHsKICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNHB4KTsgfQogICAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQogICAgfQoKICAgIC5lcnJvci1pY29uIHsKICAgICAgZm9udC1zaXplOiAwLjc1cmVtOwogICAgICBtYXJnaW4tdG9wOiAwLjEyNXJlbTsKICAgICAgZmxleC1zaHJpbms6IDA7CiAgICB9CgogICAgLmVycm9yLW1lc3NhZ2UgewogICAgICBsaW5lLWhlaWdodDogMS40OwogICAgfQogIA%3D%3D!./src/app/shared/ui/atoms/form-error/form-error.component.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"\n    .form-error {\n      display: flex;\n      align-items: flex-start;\n      gap: 0.375rem;\n      margin-top: 0.25rem;\n      font-size: 0.8125rem;\n      color: var(--danger-color, #ef4444);\n      animation: error-in 150ms ease;\n    }\n\n    @keyframes error-in {\n      from { opacity: 0; transform: translateY(-4px); }\n      to { opacity: 1; transform: translateY(0); }\n    }\n\n    .error-icon {\n      font-size: 0.75rem;\n      margin-top: 0.125rem;\n      flex-shrink: 0;\n    }\n\n    .error-message {\n      line-height: 1.4;\n    }\n  ",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/stories/ui-form-error.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Email:()=>Email,MinLength:()=>MinLength,NoError:()=>NoError,Required:()=>Required,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ui_form_error_stories});var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.js"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),form_error_component=__webpack_require__("./src/app/shared/ui/atoms/form-error/form-error.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAuZm9ybS1lcnJvciB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgICBnYXA6IDAuMzc1cmVtOwogICAgICBtYXJnaW4tdG9wOiAwLjI1cmVtOwogICAgICBmb250LXNpemU6IDAuODEyNXJlbTsKICAgICAgY29sb3I6IHZhcigtLWRhbmdlci1jb2xvciwgI2VmNDQ0NCk7CiAgICAgIGFuaW1hdGlvbjogZXJyb3ItaW4gMTUwbXMgZWFzZTsKICAgIH0KCiAgICBAa2V5ZnJhbWVzIGVycm9yLWluIHsKICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNHB4KTsgfQogICAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQogICAgfQoKICAgIC5lcnJvci1pY29uIHsKICAgICAgZm9udC1zaXplOiAwLjc1cmVtOwogICAgICBtYXJnaW4tdG9wOiAwLjEyNXJlbTsKICAgICAgZmxleC1zaHJpbms6IDA7CiAgICB9CgogICAgLmVycm9yLW1lc3NhZ2UgewogICAgICBsaW5lLWhlaWdodDogMS40OwogICAgfQogIA%3D%3D!./src/app/shared/ui/atoms/form-error/form-error.component.ts"),form_error_component_default=__webpack_require__.n(form_error_component),root_effect_scheduler=__webpack_require__("./node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),debug_node=__webpack_require__("./node_modules/@angular/core/fesm2022/debug_node.mjs"),common_module=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module.mjs");const DEFAULT_VALIDATION_MESSAGES={required:"Este campo es requerido",email:"Ingrese un email válido",minlength:params=>`Mínimo ${params?.requiredLength||0} caracteres`,maxlength:params=>`Máximo ${params?.requiredLength||0} caracteres`,min:params=>`El valor mínimo es ${params?.min||0}`,max:params=>`El valor máximo es ${params?.max||0}`,pattern:"Formato inválido",passwordMismatch:"Las contraseñas no coinciden",invalidDate:"Fecha inválida",futureDate:"La fecha no puede ser futura",pastDate:"La fecha no puede ser pasada",invalidPhone:"Número de teléfono inválido",invalidDNI:"DNI/Documento inválido",invalidRUC:"RUC inválido"};let ValidationService=class ValidationService{customMessages={};getErrorMessage(control){if(!control||!control.errors||!control.touched)return"";const errors=control.errors,firstErrorKey=Object.keys(errors)[0],errorParams=errors[firstErrorKey];return this.getMessage(firstErrorKey,errorParams)}getAllErrorMessages(control){return control&&control.errors&&control.touched?Object.entries(control.errors).map(([key,params])=>this.getMessage(key,params)):[]}setCustomMessages(messages){this.customMessages={...this.customMessages,...messages}}getMessage(errorKey,params){const message=this.customMessages[errorKey]||DEFAULT_VALIDATION_MESSAGES[errorKey];return message?"function"==typeof message?message(params):message:`Error: ${errorKey}`}static passwordMatch(passwordField,confirmField){return control=>{const password=control.get(passwordField),confirm=control.get(confirmField);return password&&confirm&&password.value!==confirm.value?(confirm.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}}static dni(control){const value=control.value;if(!value)return null;return/^\d{8}$/.test(value)?null:{invalidDNI:!0}}static ruc(control){const value=control.value;if(!value)return null;return/^(10|20)\d{9}$/.test(value)?null:{invalidRUC:!0}}static phone(control){const value=control.value;if(!value)return null;return/^(\+51\s?)?9\d{8}$|^0[1-9]\s?\d{6,7}$/.test(value.replace(/\s/g,""))?null:{invalidPhone:!0}}static notFutureDate(control){const value=control.value;if(!value)return null;const inputDate=new Date(value),today=new Date;return today.setHours(23,59,59,999),inputDate>today?{futureDate:!0}:null}static notPastDate(control){const value=control.value;if(!value)return null;const inputDate=new Date(value),today=new Date;return today.setHours(0,0,0,0),inputDate<today?{pastDate:!0}:null}};ValidationService=(0,tslib_es6.Cg)([(0,debug_node._qm)({providedIn:"root"})],ValidationService);let FormErrorComponent=class FormErrorComponent{validationService=(0,root_effect_scheduler.WQX)(ValidationService);control=null;customMessage;showOnTouched=!0;get showError(){return!!this.control&&(this.showOnTouched?this.control.invalid&&this.control.touched:this.control.invalid)}get errorMessage(){return this.customMessage?this.customMessage:this.validationService.getErrorMessage(this.control)}static propDecorators={control:[{type:debug_node.pde}],customMessage:[{type:debug_node.pde}],showOnTouched:[{type:debug_node.pde}]}};FormErrorComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"app-form-error",standalone:!0,imports:[common_module.MD],changeDetection:debug_node.Ngq.OnPush,template:'\n    @if (showError) {\n      <div class="form-error" role="alert" aria-live="polite">\n        <i class="fa-solid fa-circle-exclamation error-icon" aria-hidden="true"></i>\n        <span class="error-message">{{ errorMessage }}</span>\n      </div>\n    }\n  ',styles:[form_error_component_default()]})],FormErrorComponent);const ui_form_error_stories={title:"1. Atoms/FormError",component:FormErrorComponent,decorators:[(0,dist.Iz)({imports:[fesm2022_forms.X1]})],tags:["autodocs"],parameters:{docs:{description:{component:"Componente para mostrar mensajes de error de validación de formularios."}}}},Required={render:()=>{const control=new fesm2022_forms.MJ("",fesm2022_forms.k0.required);return control.markAsTouched(),{props:{control},template:'\n        <div style="max-width: 300px;">\n          <input type="text" placeholder="Campo requerido" [formControl]="control"\n                 style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.25rem;">\n          <app-form-error [control]="control"></app-form-error>\n        </div>\n      '}}},Email={render:()=>{const control=new fesm2022_forms.MJ("invalid-email",fesm2022_forms.k0.email);return control.markAsTouched(),{props:{control},template:'\n        <div style="max-width: 300px;">\n          <input type="email" [formControl]="control"\n                 style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.25rem;">\n          <app-form-error [control]="control"></app-form-error>\n        </div>\n      '}}},MinLength={render:()=>{const control=new fesm2022_forms.MJ("ab",fesm2022_forms.k0.minLength(5));return control.markAsTouched(),{props:{control},template:'\n        <div style="max-width: 300px;">\n          <input type="text" [formControl]="control"\n                 style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.25rem;">\n          <app-form-error [control]="control"></app-form-error>\n        </div>\n      '}}},NoError={render:()=>({props:{control:new fesm2022_forms.MJ("valor válido",fesm2022_forms.k0.required)},template:'\n        <div style="max-width: 300px;">\n          <input type="text" [formControl]="control"\n                 style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.25rem;">\n          <app-form-error [control]="control"></app-form-error>\n          <p style="color: green; font-size: 0.875rem; margin-top: 0.5rem;">✓ El campo es válido</p>\n        </div>\n      '})},__namedExportsOrder=["Required","Email","MinLength","NoError"];Required.parameters={...Required.parameters,docs:{...Required.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const control = new FormControl(\'\', Validators.required);\n    control.markAsTouched();\n    return {\n      props: {\n        control\n      },\n      template: `\n        <div style="max-width: 300px;">\n          <input type="text" placeholder="Campo requerido" [formControl]="control"\n                 style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.25rem;">\n          <app-form-error [control]="control"></app-form-error>\n        </div>\n      `\n    };\n  }\n}',...Required.parameters?.docs?.source}}},Email.parameters={...Email.parameters,docs:{...Email.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const control = new FormControl(\'invalid-email\', Validators.email);\n    control.markAsTouched();\n    return {\n      props: {\n        control\n      },\n      template: `\n        <div style="max-width: 300px;">\n          <input type="email" [formControl]="control"\n                 style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.25rem;">\n          <app-form-error [control]="control"></app-form-error>\n        </div>\n      `\n    };\n  }\n}',...Email.parameters?.docs?.source}}},MinLength.parameters={...MinLength.parameters,docs:{...MinLength.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const control = new FormControl(\'ab\', Validators.minLength(5));\n    control.markAsTouched();\n    return {\n      props: {\n        control\n      },\n      template: `\n        <div style="max-width: 300px;">\n          <input type="text" [formControl]="control"\n                 style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.25rem;">\n          <app-form-error [control]="control"></app-form-error>\n        </div>\n      `\n    };\n  }\n}',...MinLength.parameters?.docs?.source}}},NoError.parameters={...NoError.parameters,docs:{...NoError.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const control = new FormControl(\'valor válido\', Validators.required);\n    return {\n      props: {\n        control\n      },\n      template: `\n        <div style="max-width: 300px;">\n          <input type="text" [formControl]="control"\n                 style="width: 100%; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.25rem;">\n          <app-form-error [control]="control"></app-form-error>\n          <p style="color: green; font-size: 0.875rem; margin-top: 0.5rem;">✓ El campo es válido</p>\n        </div>\n      `\n    };\n  }\n}',...NoError.parameters?.docs?.source}}}}}]);